(this.webpackJsonpsevens=this.webpackJsonpsevens||[]).push([[0],[,,,,,,,,,,,,,function(e,a,l){},function(e,a,l){},function(e,a,l){},function(e,a,l){},function(e,a,l){},function(e,a,l){"use strict";l.r(a);var t=l(0),n=l(1),c=l.n(n),d=l(7),r=l.n(d),u=(l(13),l(2)),s=(l(14),l(6)),p=(l(15),l(16),["AH","2H","3H","4H","5H","6H","7H","8H","9H","10H","JH","QH","KH","AC","2C","3C","4C","5C","6C","7C","8C","9C","10C","JC","QC","KC","AD","2D","3D","4D","5D","6D","7D","8D","9D","10D","JD","QD","KD","AS","2S","3S","4S","5S","6S","7S","8S","9S","10S","JS","QS","KS"]);function o(e){return{C:"\u2663",D:"\u2666",S:"\u2660",H:"\u2665"}[2===e.length?e.charAt(1):e.charAt(2)]}function v(e){return 2===e.length?e.substring(0,1):e.substring(0,2)}function i(e){console.log("Cards");var a,l={C:"card-black",D:"card-red",S:"card-black",H:"card-red"}[2===(a=e.value).length?a.charAt(1):a.charAt(2)],n=e.selected?"card-selected":"",c=o(e.value),d=v(e.value)+c,r="card-card "+n+(e.hidden?" card-hidden":""),u="card-value "+l;return Object(t.jsx)("div",{className:r,onClick:e.onClick,children:Object(t.jsx)("div",{className:u,children:d})})}function y(e){console.log("myhand called with props.hand: ".concat(e.hand));var a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],d=l[1];return Object(n.useEffect)((function(){e.hand&&d((function(a){return e.hand.map((function(e){return{value:e,selected:!1}}))}))}),[e.hand]),Object(n.useEffect)((function(){var a=["AH","2H","3H","4H","5H","6H","7H","8H","9H","10H","JH","QH","KH","AC","2C","3C","4C","5C","6C","7C","8C","9C","10C","JC","QC","KC","AD","2D","3D","4D","5D","6D","7D","8D","9D","10D","JD","QD","KD","AS","2S","3S","4S","5S","6S","7S","8S","9S","10S","JS","QS","KS"];e.restoreCard&&d((function(l){var t=[].concat(Object(s.a)(l),[{value:e.restoreCard,selected:!1}]);return t.sort((function(e,l){return a.findIndex((function(a){return e.value===a}))-a.findIndex((function(e){return l.value===e}))})),t}))}),[e.restoreCard]),Object(t.jsx)("div",{className:"myhand-panel",children:Object(t.jsxs)("div",{className:"myhand-container",children:[c.length>0&&c.map((function(e,a){return Object(t.jsx)("div",{className:"myhand-card",children:Object(t.jsx)(i,{value:e.value,selected:e.selected,onClick:function(){!function(e){var a=c.map((function(a,l){return{value:a.value,selected:e===l}}));d(a)}(a)}})},a)})),Object(t.jsx)("input",{type:"button",onClick:function(){!function(){var a=c.findIndex((function(e){return e.selected}));if(console.log("selected: ".concat(a)),a>=0){var l=c[a].value,t=Object(s.a)(c);t.splice(a,1),e.playCard(l,t.length),d(t)}else alert("You must select a card first")}()},value:"Play Card"}),Object(t.jsx)("input",{type:"button",onClick:function(){e.knock()},value:"Knock"})]})})}l(17);function j(e){var a=e.game.hearts.map((function(a,l){var n="cardtable-card cardtable-hearts "+(a.played?"":"cardtable-notplayed");return Object(t.jsx)("div",{className:n,children:Object(t.jsx)(i,{value:a.value+"H",hidden:!a.played,onClick:function(){return e.remove(a.value+"H")}})},l)})),l=e.game.clubs.map((function(a,l){var n="cardtable-card cardtable-clubs "+(a.played?"":"cardtable-notplayed");return Object(t.jsx)("div",{className:n,children:Object(t.jsx)(i,{value:a.value+"C",hidden:!a.played,onClick:function(){return e.remove(a.value+"C")}})},l)})),n=e.game.diamonds.map((function(a,l){var n="cardtable-card cardtable-diamonds "+(a.played?"":"cardtable-notplayed");return Object(t.jsx)("div",{className:n,children:Object(t.jsx)(i,{value:a.value+"D",hidden:!a.played,onClick:function(){return e.remove(a.value+"D")}})},l)})),c=e.game.spades.map((function(a,l){var n="cardtable-card cardtable-spades "+(a.played?"":"cardtable-notplayed");return Object(t.jsx)("div",{className:n,children:Object(t.jsx)(i,{value:a.value+"S",hidden:!a.played,onClick:function(){return e.remove(a.value+"S")}})},l)}));return Object(t.jsx)("div",{className:"cardtable-panel",children:Object(t.jsxs)("div",{className:"cardtable-container",children:[Object(t.jsx)("div",{className:"cardtable-hearts",children:a}),Object(t.jsx)("div",{className:"cardtable-clubs",children:l}),Object(t.jsx)("div",{className:"cardtable-diamonds",children:n}),Object(t.jsx)("div",{className:"cardtable-spades",children:c})]})})}var b=function(){console.log("App called");var e=Object(n.useState)({player1:"",player2:"",player3:"",player4:""}),a=Object(u.a)(e,2),l=a[0],c=a[1],d=Object(n.useState)([]),r=Object(u.a)(d,2),s=r[0],i=r[1],b=Object(n.useState)(),h=Object(u.a)(b,2),f=h[0],O=h[1],m=Object(n.useState)(""),g=Object(u.a)(m,2),x=g[0],C=g[1],S=Object(n.useState)([]),k=Object(u.a)(S,2),N=k[0],D=k[1],H=Object(n.useState)("..."),J=Object(u.a)(H,2),A=J[0],w=J[1],K=Object(n.useState)(),Q=Object(u.a)(K,2),F=Q[0],I=Q[1],P=Object(n.useState)({hearts:[{value:"A",played:!1},{value:"2",played:!1},{value:"3",played:!1},{value:"4",played:!1},{value:"5",played:!1},{value:"6",played:!1},{value:"7",played:!1},{value:"8",played:!1},{value:"9",played:!1},{value:"10",played:!1},{value:"J",played:!1},{value:"Q",played:!1},{value:"K",played:!1}],clubs:[{value:"A",played:!1},{value:"2",played:!1},{value:"3",played:!1},{value:"4",played:!1},{value:"5",played:!1},{value:"6",played:!1},{value:"7",played:!1},{value:"8",played:!1},{value:"9",played:!1},{value:"10",played:!1},{value:"J",played:!1},{value:"Q",played:!1},{value:"K",played:!1}],diamonds:[{value:"A",played:!1},{value:"2",played:!1},{value:"3",played:!1},{value:"4",played:!1},{value:"5",played:!1},{value:"6",played:!1},{value:"7",played:!1},{value:"8",played:!1},{value:"9",played:!1},{value:"10",played:!1},{value:"J",played:!1},{value:"Q",played:!1},{value:"K",played:!1}],spades:[{value:"A",played:!1},{value:"2",played:!1},{value:"3",played:!1},{value:"4",played:!1},{value:"5",played:!1},{value:"6",played:!1},{value:"7",played:!1},{value:"8",played:!1},{value:"9",played:!1},{value:"10",played:!1},{value:"J",played:!1},{value:"Q",played:!1},{value:"K",played:!1}]}),E=Object(u.a)(P,2),B=E[0],L=E[1];function T(e){console.log("getNextPlayer called with players: ".concat(JSON.stringify(s)));var a=s.findIndex((function(a){return a===e}))+1;return a=a>=s.length?0:a,s[a]}function q(e,a){L((function(l){var t=2===e.length?e.charAt(1):e.charAt(2),n=2===e.length?e.substring(0,1):e.substring(0,2),c=!0;return"play"===a?c=!0:"retract"===a&&(c=!1),{hearts:l.hearts.map((function(e){return"H"===t&&n===e.value?{value:e.value,played:c}:{value:e.value,played:e.played}})),clubs:l.clubs.map((function(e){return"C"===t&&n===e.value?{value:e.value,played:c}:{value:e.value,played:e.played}})),diamonds:l.diamonds.map((function(e){return"D"===t&&n===e.value?{value:e.value,played:c}:{value:e.value,played:e.played}})),spades:l.spades.map((function(e){return"S"===t&&n===e.value?{value:e.value,played:c}:{value:e.value,played:e.played}}))}}))}function G(e){c((function(a){return a[e.target.name]=e.target.value,a}))}return Object(n.useEffect)((function(){console.log("App: setting up websockt");var e=new WebSocket("wss://jbsevens.herokuapp.com");console.log("creating connection!"),I(e)}),[]),Object(n.useEffect)((function(){F&&(console.log("App: setting up websocket actions"),F.onmessage=function(e){console.log(e.data);var a,l,t=JSON.parse(e.data);switch(t.type){case"card":C("".concat(t.player," played ").concat((l=t.card,v(l)+o(l))," and has ").concat(t.left," card(s) left - ").concat(T(t.player),"'s go...")),q(t.card,"play");break;case"knock":C("".concat(t.player," knocked! - ").concat(T(t.player),"'s go..."));break;case"retractCard":var n=v(t.card),c=o(t.card);C("".concat(t.player," retracted card ").concat(n+c)),q(t.card,"retract");break;case"message":C("".concat(t.message));break;case"players":i(t.players);break;case"newgame":C("New game!.... please rejoin to get new hand"),w("..."),L({hearts:[{value:"A",played:!1},{value:"2",played:!1},{value:"3",played:!1},{value:"4",played:!1},{value:"5",played:!1},{value:"6",played:!1},{value:"7",played:!1},{value:"8",played:!1},{value:"9",played:!1},{value:"10",played:!1},{value:"J",played:!1},{value:"Q",played:!1},{value:"K",played:!1}],clubs:[{value:"A",played:!1},{value:"2",played:!1},{value:"3",played:!1},{value:"4",played:!1},{value:"5",played:!1},{value:"6",played:!1},{value:"7",played:!1},{value:"8",played:!1},{value:"9",played:!1},{value:"10",played:!1},{value:"J",played:!1},{value:"Q",played:!1},{value:"K",played:!1}],diamonds:[{value:"A",played:!1},{value:"2",played:!1},{value:"3",played:!1},{value:"4",played:!1},{value:"5",played:!1},{value:"6",played:!1},{value:"7",played:!1},{value:"8",played:!1},{value:"9",played:!1},{value:"10",played:!1},{value:"J",played:!1},{value:"Q",played:!1},{value:"K",played:!1}],spades:[{value:"A",played:!1},{value:"2",played:!1},{value:"3",played:!1},{value:"4",played:!1},{value:"5",played:!1},{value:"6",played:!1},{value:"7",played:!1},{value:"8",played:!1},{value:"9",played:!1},{value:"10",played:!1},{value:"J",played:!1},{value:"Q",played:!1},{value:"K",played:!1}]}),D([]);break;case"hand":a=t.cards,console.log("Update hand called with ".concat(a)),a.sort((function(e,a){return p.findIndex((function(a){return e===a}))-p.findIndex((function(e){return a===e}))})),D(a);break;default:console.log("unsupported message type")}},setInterval((function(){F.send(JSON.stringify({type:"ping"}))}),3e4))}),[F]),Object(t.jsxs)("div",{className:"App",children:[Object(t.jsxs)("div",{className:"app-controls-and-hand",children:[Object(t.jsxs)("div",{className:"app-controls",children:[Object(t.jsx)("div",{className:"app-container",children:Object(t.jsxs)("div",{className:"app-playerselecter",children:[Object(t.jsx)("div",{children:Object(t.jsx)("input",{type:"button",onClick:function(){F.send(JSON.stringify({type:"newgame"}))},value:"New Game"})}),s.length>0&&Object(t.jsxs)("div",{children:[Object(t.jsx)("label",{htmlFor:"players",children:"Choose a player:"}),Object(t.jsxs)("select",{value:A,name:"players",id:"players",onChange:function(e){console.log("update player called for: ".concat(e.target.value));var a=e.target.value;!function(e){console.log("send hand request called, player: ".concat(e)),e&&F.send(JSON.stringify({type:"hand",player:e}))}(a),w(a)},children:[Object(t.jsx)("option",{value:"...",children:"..."}),Object(t.jsx)("option",{value:s[0],children:s[0]}),Object(t.jsx)("option",{value:s[1],children:s[1]}),Object(t.jsx)("option",{value:s[2],children:s[2]}),Object(t.jsx)("option",{value:s[3],children:s[3]})]})]})]})}),Object(t.jsx)("div",{children:Object(t.jsx)("div",{className:"app-log",children:x})})]}),0===s.length&&Object(t.jsx)("div",{className:"app-setplayers",children:Object(t.jsxs)("form",{children:[Object(t.jsx)("label",{htmlFor:"player1",children:"Player 1:"}),Object(t.jsx)("input",{type:"text",name:"player1",onChange:G}),Object(t.jsx)("br",{}),Object(t.jsx)("label",{htmlFor:"player2",children:"Player 2:"}),Object(t.jsx)("input",{type:"text",name:"player2",onChange:G}),Object(t.jsx)("br",{}),Object(t.jsx)("label",{htmlFor:"player3",children:"Player 3:"}),Object(t.jsx)("input",{type:"text",name:"player3",onChange:G}),Object(t.jsx)("br",{}),Object(t.jsx)("label",{htmlFor:"player4",children:"Player 4:"}),Object(t.jsx)("input",{type:"text",name:"player4",onChange:G}),Object(t.jsx)("br",{}),Object(t.jsx)("input",{type:"button",value:"Save",onClick:function(){console.log("Sending players: ".concat(JSON.stringify(l))),F.send(JSON.stringify({type:"players",players:[l.player1,l.player2,l.player3,l.player4]}))}})]})}),Object(t.jsx)(y,{hand:N,playCard:function(e,a){F.send(JSON.stringify({type:"card",player:A,left:a,card:e}))},knock:function(){F.send(JSON.stringify({type:"knock",player:A}))},restoreCard:f})]}),Object(t.jsx)(j,{game:B,remove:function(e){window.confirm("Are you sure you want to retract the ".concat(e,"?"))&&(O(e),F.send(JSON.stringify({type:"retractCard",player:A,card:e})))}})]})},h=function(e){e&&e instanceof Function&&l.e(3).then(l.bind(null,19)).then((function(a){var l=a.getCLS,t=a.getFID,n=a.getFCP,c=a.getLCP,d=a.getTTFB;l(e),t(e),n(e),c(e),d(e)}))};r.a.render(Object(t.jsx)(c.a.StrictMode,{children:Object(t.jsx)(b,{})}),document.getElementById("root")),h()}],[[18,1,2]]]);
//# sourceMappingURL=main.8ea34f67.chunk.js.map