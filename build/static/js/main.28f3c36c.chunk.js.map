{"version":3,"sources":["Card.js","MyHand.js","CardTable.js","App.js","reportWebVitals.js","index.js"],"names":["Card","props","console","log","value","colourClass","length","charAt","selected","suitSymbol","getSuit","cardString","substring","cardClasses","hidden","valueClasses","className","onClick","MyHand","hand","useState","setHand","useEffect","h","map","xcard","cardx","index","id","newHand","card","toggleSelected","type","findIndex","c","playCard","splice","knock","CardTable","heartsCards","game","classes","played","clubsCards","diamondsCards","spadesCards","App","setLog","player","setPlayer","ws","setWs","setGame","cardpack","localWs","WebSocket","onmessage","event","data","newhand","m","JSON","parse","suit","getCard","g","cardValue","hearts","oldcard","clubs","diamonds","spades","cards","sort","a","b","setInterval","send","stringify","getWs","htmlFor","name","onChange","evt","target","p","sendHandRequest","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.28f3c36c.chunk.js","sourcesContent":["import \"./Card.css\";\n\nexport function Card(props) {\n\n  console.log(\"Cards\")\n\n  function getColour(value) {\n\n    const colours = {\n      'C': 'card-black',\n      'D': 'card-red',\n      'S': 'card-black',\n      'H': 'card-red'\n    }\n    let suit = value.length === 2 ? value.charAt(1) : value.charAt(2);\n\n    return colours[suit]\n  }\n\n  const colourClass = getColour(props.value)\n\n  function getSuit(value) {\n\n    const suits = {\n      'C': '\\u2663',\n      'D': '\\u2666',\n      'S': '\\u2660',\n      'H': '\\u2665'\n    }\n\n    let suit = value.length === 2 ? value.charAt(1) : value.charAt(2);\n\n    return suits[suit]\n  }\n\n  const selected = props.selected ? \"card-selected\" : \"\"\n\n  const suitSymbol = getSuit(props.value)\n  const cardValue = props.value.length === 2 ? props.value.substring(0,1) : props.value.substring(0,2)\n  const cardString = cardValue + suitSymbol\n  const cardClassHidden = props.hidden ? \" card-hidden\" : \"\"\n  const cardClasses = \"card-card \" + selected + cardClassHidden\n  const valueClasses = \"card-value \" + colourClass\n\n  return (\n    <div className={cardClasses}>\n      <div className={valueClasses} onClick={props.onClick}>\n        {cardString}\n      </div>\n    </div>\n  )\n}","import \"./MyHand.css\";\nimport { Card } from './Card.js';\nimport { useState } from 'react';\nimport { useEffect } from \"react\";\n\nexport function MyHand(props) {\n\n  // Props:\n  // hand - array of card values\n\n  console.log(`myhand called with props.hand: ${props.hand}`)\n\n  const [hand, setHand] = useState()\n\n  useEffect( () => {\n\n    if (props.hand) {\n      setHand(h => {\n        return props.hand.map( xcard => {\n          let r = {value: xcard, selected: false}\n          return r\n        })  \n      })\n    }\n  },[props.hand])\n\n  function toggleSelected(id) {\n\n    let newHand = hand.map( (card,index) => {\n      return { value: card.value, selected: id === index ? true : false}\n    })\n\n    setHand(newHand)\n  }\n\n  function playCard() {\n    let selected = hand.findIndex( c => {\n      return c.selected\n    })\n\n    let card = hand[selected].value\n\n    props.playCard(card)\n\n    let newHand = [...hand];\n    newHand.splice(selected,1);\n    setHand(newHand)\n  }\n\n  function knock() {\n    props.knock()\n  }\n\n  return (\n    <div className=\"myhand-panel\">\n      { hand \n        && hand.map( (cardx,index) => {\n          return <div key={index} className=\"myhand-card\">\n            <Card value={cardx.value} selected={cardx.selected} onClick={()=>{toggleSelected(index)}}/>\n          </div>\n          })\n      }\n      <input type=\"button\" onClick={() => {playCard()}} value=\"Play Card\" />\n      <input type=\"button\" onClick={() => {knock()}} value=\"Knock\" />\n    </div>\n  )\n}","import \"./CardTable.css\";\nimport { Card } from './Card.js';\n\nexport function CardTable(props) {\n\n  const heartsCards = props.game[\"hearts\"].map( (card,index) => {\n    const playedClass = card.played ? \"\" : \"cardtable-notplayed\"\n    const classes = \"cardtable-card cardtable-hearts \" +  playedClass\n    return <div key={index} className={classes}>\n      <Card value={card.value + \"H\"} hidden={!card.played} />\n      </div>\n  })\n  const clubsCards = props.game[\"clubs\"].map( (card,index) => {\n    const playedClass = card.played ? \"\" : \"cardtable-notplayed\"\n    const classes = \"cardtable-card cardtable-clubs \" +  playedClass\n    return <div key={index} className={classes}>\n      <Card value={card.value + \"C\"} hidden={!card.played} />\n      </div>\n  })\n  const diamondsCards = props.game[\"diamonds\"].map( (card,index) => {\n    const playedClass = card.played ? \"\" : \"cardtable-notplayed\"\n    const classes = \"cardtable-card cardtable-diamonds \" +  playedClass\n    return <div key={index} className={classes}>\n      <Card value={card.value + \"D\"} hidden={!card.played} />\n      </div>\n  })\n  const spadesCards = props.game[\"spades\"].map( (card,index) => {\n    const playedClass = card.played ? \"\" : \"cardtable-notplayed\"\n    const classes = \"cardtable-card cardtable-spades \" +  playedClass\n    return <div key={index} className={classes}>\n      <Card value={card.value + \"S\"} hidden={!card.played} />\n      </div>\n  })\n\n  return (\n    <div className=\"cardtable-panel\">\n      <div className=\"cardtable-hearts\">{ heartsCards }</div>\n      <div className=\"cardtable-clubs\">{ clubsCards }</div>\n      <div className=\"cardtable-diamonds\">{ diamondsCards }</div>\n      <div className=\"cardtable-spades\">{ spadesCards }</div>\n    </div>\n  )\n}","import './App.css';\nimport { MyHand } from './MyHand.js';\nimport { CardTable } from './CardTable.js';\nimport { useState, useEffect } from 'react';\n\nfunction App() {\n\n  console.log(\"App called\")\n\n  const [log,setLog] = useState(\"\")\n  const [hand,setHand] = useState()\n  const [player,setPlayer] = useState()\n  const [ws,setWs] = useState()\n  const [game,setGame] = useState({\n    \"hearts\": [\n        { value: 'A', played : false },\n        { value: '2', played : false },\n        { value: '3', played : false },\n        { value: '4', played : false },\n        { value: '5', played : false },\n        { value: '6', played : false },\n        { value: '7', played : false },\n        { value: '8', played : false },\n        { value: '9', played : false },\n        { value: '10', played : false },\n        { value: 'J', played : false },\n        { value: 'Q', played : false },\n        { value: 'K', played : false }\n      ],\n    \"clubs\": [\n        { value: 'A', played : false },\n        { value: '2', played : false },\n        { value: '3', played : false },\n        { value: '4', played : false },\n        { value: '5', played : false },\n        { value: '6', played : false },\n        { value: '7', played : false },\n        { value: '8', played : false },\n        { value: '9', played : false },\n        { value: '10', played : false },\n        { value: 'J', played : false },\n        { value: 'Q', played : false },\n        { value: 'K', played : false }\n      ],\n    \"diamonds\": [\n        { value: 'A', played : false },\n        { value: '2', played : false },\n        { value: '3', played : false },\n        { value: '4', played : false },\n        { value: '5', played : false },\n        { value: '6', played : false },\n        { value: '7', played : false },\n        { value: '8', played : false },\n        { value: '9', played : false },\n        { value: '10', played : false },\n        { value: 'J', played : false },\n        { value: 'Q', played : false },\n        { value: 'K', played : false }\n      ],\n    \"spades\": [\n        { value: 'A', played : false },\n        { value: '2', played : false },\n        { value: '3', played : false },\n        { value: '4', played : false },\n        { value: '5', played : false },\n        { value: '6', played : false },\n        { value: '7', played : false },\n        { value: '8', played : false },\n        { value: '9', played : false },\n        { value: '10', played : false },\n        { value: 'J', played : false },\n        { value: 'Q', played : false },\n        { value: 'K', played : false }\n      ]\n  })\n\n  useEffect( () => {\n\n    const cardpack = [\n      \"AH\",\"2H\",\"3H\",\"4H\",\"5H\",\"6H\",\"7H\",\"8H\",\"9H\",\"10H\",\"JH\",\"QH\",\"KH\",\n      \"AC\",\"2C\",\"3C\",\"4C\",\"5C\",\"6C\",\"7C\",\"8C\",\"9C\",\"10C\",\"JC\",\"QC\",\"KC\",\n      \"AD\",\"2D\",\"3D\",\"4D\",\"5D\",\"6D\",\"7D\",\"8D\",\"9D\",\"10D\",\"JD\",\"QD\",\"KD\",\n      \"AS\",\"2S\",\"3S\",\"4S\",\"5S\",\"6S\",\"7S\",\"8S\",\"9S\",\"10S\",\"JS\",\"QS\",\"KS\"\n    ]\n\n    function getSuit(value) {\n\n      const suits = {\n        'C': '\\u2663',\n        'D': '\\u2666',\n        'S': '\\u2660',\n        'H': '\\u2665'\n      }\n  \n      let suit = value.length === 2 ? value.charAt(1) : value.charAt(2);\n  \n      return suits[suit]\n    }\n\n    function getCard(card) {\n      let value = card.length === 2 ? card.substring(0,1) : card.substring(0,2);\n      let suit = getSuit(card)\n      return (value + suit)\n    }\n\n    function updateHand(newhand) {\n      console.log(`Update hand called with ${newhand}`)\n  \n      newhand.sort( (a,b) => {\n        let ai = cardpack.findIndex(c => a === c)\n        let bi = cardpack.findIndex(c => b === c)\n        return (ai - bi)\n      })\n  \n      setHand(newhand)\n    }\n  \n    function getWs() {\n      var HOST = \"wss://jbsevens.herokuapp.com\"\n      let localWs = new WebSocket(HOST);\n      localWs.onmessage = (event) => {\n        console.log(event.data)\n        let m = JSON.parse(event.data);\n        switch(m.type) {\n          case 'card':\n            setLog(`${m.player} played ${getCard(m.card)}`)\n            updateGame(m.card);\n            break;\n          case 'knock':\n            setLog(`${m.player} knocked!`)\n            break;\n          case 'hand':\n            updateHand(m.cards);\n            break;\n          default:\n            console.log(\"unsupported message type\")\n        }\n      }\n      setInterval( () => {\n        localWs.send(\n          JSON.stringify({\n            type: 'ping'\n          })          \n        )\n      },30000)\n      return localWs\n    }\n  \n    setWs(getWs())\n  },[])\n\n  const sendCard = (card) => {\n    ws.send(JSON.stringify({\n      type: 'card',\n      player: player,\n      card: card\n    }))\n  }\n\n  const knock = () => {\n    ws.send(JSON.stringify({\n      type: 'knock',\n      player: player\n    }))\n  }\n\n  function updatePlayer(evt) {\n\n    console.log(`update player called for: ${evt.target.value}`)\n\n    let p = evt.target.value\n    sendHandRequest(p)\n    setPlayer(p)\n  }\n\n  function updateGame(card) {\n    setGame( g => {\n\n      let suit = card.length === 2 ? card.charAt(1) : card.charAt(2);\n      let cardValue = card.length === 2 ? card.substring(0,1) : card.substring(0,2)\n  \n      const newTable = {\n        hearts: g[\"hearts\"].map( oldcard => {\n          if (suit === \"H\" && cardValue === oldcard.value) return { value: oldcard.value, played: true}\n          else return { value: oldcard.value, played: oldcard.played}\n        }),\n        clubs: g[\"clubs\"].map( oldcard => {\n          if (suit === \"C\" && cardValue === oldcard.value) return { value: oldcard.value, played: true}\n          else return { value: oldcard.value, played: oldcard.played}\n        }),\n        diamonds: g[\"diamonds\"].map( oldcard => {\n          if (suit === \"D\" && cardValue === oldcard.value) return { value: oldcard.value, played: true}\n          else return { value: oldcard.value, played: oldcard.played}\n        }),\n        spades: g[\"spades\"].map( oldcard => {\n          if (suit === \"S\" && cardValue === oldcard.value) return { value: oldcard.value, played: true}\n          else return { value: oldcard.value, played: oldcard.played}\n        })\n      }\n    \n      return(newTable)    \n    })\n  }\n  \n  function sendHandRequest(p) {\n    console.log(`send hand request called, player: ${p}`)\n    if (p) {\n      ws.send(JSON.stringify({\n        type: 'hand',\n        player: p\n      }))  \n    }\n  }\n  \n  return (\n    <div className=\"App\">\n      <div className=\"app-playerselecter\">\n      <label htmlFor=\"players\">Choose a player:</label>\n        <select name=\"players\" id=\"players\" onChange={updatePlayer}>\n          <option value=\"...\">...</option>\n          <option value=\"Nancy\">Nancy</option>\n          <option value=\"John\">John</option>\n          <option value=\"Allen\">Allen</option>\n          <option value=\"Gavin\">Gavin</option>\n        </select>\n      </div>\n      <div>\n        <div className=\"app-log\">{log}</div>\n      </div>\n      { hand &&\n        <MyHand hand={hand} playCard={sendCard} knock={knock}/>\n      }     \n      <CardTable game={game} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}